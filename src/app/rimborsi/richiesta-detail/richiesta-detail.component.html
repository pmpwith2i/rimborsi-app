<div class="standard-panel">
  <div class="d-flex d-flex-row light-bor-bottom align-items-center mobile-title-flex-responsive">
    <div class="mr-auto title-mobile-responsive">
      <h1 class="text-title-dark">Riepilogo Richiesta - <b>{{richiesta.codice}}</b></h1>
      <div class="d-flex align-items-center">
        <div class="subtitle-dark">{{richiesta.volontario}} - {{richiesta.evento}}</div>
        <div *ngIf="richiesta.stato" appBackgroundStato [statoRichiesta]='richiesta.stato'
             class="cst-chips standard-shadow">
          {{richiesta.stato | dinamycDataPipe:'statoRichiesta'}}
        </div>
      </div>
    </div>
    <div class="btn-container-new">
      <app-cst-button btnClass="btn-primary" text="Visualizza giornate" (click)="toggleViewGiornate()"
                      iconName="visibility"></app-cst-button>
    </div>
    <div class="btn-container-new">
      <app-cst-button btnClass="btn-danger" text="Elimina richiesta" iconName="delete"></app-cst-button>
    </div>
    <div class="btn-container-new">
      <app-cst-button btnClass="btn-success" text="Presenta Domanda" (click)="toggleViewResume()"
                      iconName="send"></app-cst-button>
    </div>
  </div>

  <app-notification-panel title="Richiesta integrazioni (Paolo Rossi)"
                          text="Lorem ipsum dolor sit amet">

  </app-notification-panel>
  <div class="row">
    <div class="col-12 col-sm-5">
      <app-cst-panel-card cardTitle="Scheda Finanziaria">
        <ng-container rightTop>
          <app-cst-button btnClass="btn-success" text="Nuova scheda" (click)="toggleViewNewScheda()"
                          iconName="add"></app-cst-button>
        </ng-container>
        <label for="selectSchedaFinanziaria" class="form-label">Seleziona scheda</label>
        <select id="selectSchedaFinanziaria" class="form-select" (change)="onChangeScheda($event.target.value)">
          <option *ngFor="let el of schedeFinanziarie" [value]="el.id">{{el.text}}</option>
        </select>
      </app-cst-panel-card>
    </div>
  </div>
  <div class="row">
    <div class="col-xl-4 col-12">
      <app-cst-panel-card cardTitle="Retribuzione">
        <app-dati-form [isFormDisabled]="isFormDisabled" [datiFinanziari]="datiFinanziari"></app-dati-form>
      </app-cst-panel-card>
    </div>
    <div class="col-xl-4 col-12">
      <app-cst-panel-card cardTitle="Contributi">
        <app-contributi-form [isFormDisabled]="isFormDisabled" [contributi]="contributi"></app-contributi-form>
      </app-cst-panel-card>
      <app-cst-panel-card cardTitle="Totale">
        <app-totale-form [isFormDisabled]="true"></app-totale-form>
      </app-cst-panel-card>
    </div>
    <div class="col-xl-4 col-12">
      <app-cst-panel-card cardTitle="Pagamento">
        <div class="col-12">
          <label for="inputIban" class="form-label">IBAN</label>
          <input type="number" class="form-control"
                 id="inputIban">
        </div>
        <div class="col-12">
          <label for="inputModalitaRimborso" class="form-label">Modalità Rimborso</label>
          <select id="inputModalitaRimborso" class="form-select">
            <option selected>Scegli una modalità...</option>
          </select>
        </div>
      </app-cst-panel-card>
      <app-cst-panel-card cardTitle="Allegati">
        <app-allegato-item allegatoType="Busta paga"></app-allegato-item>
        <app-allegato-item allegatoType="Foglio presenze"></app-allegato-item>
      </app-cst-panel-card>
      <app-cst-panel-card cardTitle="Storico">
        <app-history-list [histories]="histories"></app-history-list>
      </app-cst-panel-card>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="overlayShow" (click)="toggleOverlay()"></div>
<app-panel-right *ngIf="viewGiornate" (closeEvent)="toggleOverlay()" panelTitle="Giornate di assenza">
  <app-giornate-list [giornate]="giornate"></app-giornate-list>
</app-panel-right>
<app-panel-right *ngIf="viewResume" (closeEvent)="toggleOverlay()" panelTitle="Riepilogo richiesta">
  <app-richiesta-resume></app-richiesta-resume>
</app-panel-right>
